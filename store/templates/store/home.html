{% extends "store/base.html" %}

<title>
    {% block title %}
        AiAi.com
    {% endblock title %}
</title>


{% block content %}
    <div class="products">

        <div class="products-container">
            <h3 class="most-popular">Most Popular <small>{{ most_popular_len }} items found</small></h3>
            <div class="product-container1">
                {% for product in most_popular %}
                    <div class="product">
                        <a class="product-content" title="Click to see detail" href="{% url 'store:product_detail' product.pk %}">
                            <img class="product-img" src="{{ product.image.url }}" alt="">
                            <div class="product-text-container">
                                <p class="product-name">{{ product.product_name|truncatechars:20 }}</p>
                                <div class="reviews-price">
                                    <p class="product-price">${{ product.price }}</p>
                                    {% if product.productreview_set.all %}
                                        <a class="read-review" href="{% url 'store:read_review' product.pk %}">
                                            Read review
                                        </a>
                                    {% else %}
                                        <p class="no-review">
                                            (0 review)
                                        </p>
                                    {% endif %}
                                </div>
                            </div>
                        </a>
                        <div class="rating-button-container">
                            <div class="ratings">
                                {% if product.rating == 1 %}
                                    <div class="rating-i-icon">
                                        <i class="fa fa-star"></i>
                                    </div>
                                    {% if product.productreview_set.count > 1 %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} reviews)</small>
                                        </p>
                                    {% else %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} review)</small>
                                        </p>
                                    {% endif %}
                                {% elif product.rating == 2 %}
                                    <div class="rating-i-icon">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                    {% if product.productreview_set.count > 1 %}
                                        <p class="ratings-count">
                                            ({{ product.productreview_set.count }} reviews)
                                        </p>
                                    {% else %}
                                        <p class="ratings-count">
                                            ({{ product.productreview_set.count }} review)
                                        </p>
                                    {% endif %}
                                {% elif product.rating == 3 %}
                                    <div class="rating-i-icon">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                    {% if product.productreview_set.count > 1 %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} reviews)</small>
                                        </p>
                                    {% else %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} review)</small>
                                        </p>
                                    {% endif %}
                                {% elif product.rating == 4 %}
                                    <div class="rating-i-icon">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                    {% if product.productreview_set.count > 1 %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} reviews)</small>
                                        </p>
                                    {% else %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} review)</small>
                                        </p>
                                    {% endif %}
                                {% elif product.rating == 5 %}
                                    <div class="rating-i-icon">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                    {% if product.productreview_set.count > 1 %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} reviews)</small>
                                        </p>
                                    {% else %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} review)</small>
                                        </p>
                                    {% endif %}
                                {% elif product.rating == 0 %}
                                    <div class="no-rating">
                                        <p>
                                            Not rated
                                        </p>
                                    {% if product.productreview_set.count > 1 %}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} reviews)</small>
                                        </p>
                                    {% elif product.productreview_set.count == 1%}
                                        <p class="ratings-count">
                                            <small>({{ product.productreview_set.count }} review)</small>
                                        </p>
                                    {% endif %}
                                    </div>
                                {% endif %}
                            </div>
                            <a class="product-add-to-basket" type="button" href="{% url 'store:add_to_basket' product.pk %}">Add to basket</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <i class="fa fa-chevron-left prev-btn1"></i>
            <i class="fa fa-chevron-right next-btn1"></i>
        </div>

        <div class="products-container">
            <h3 class="latest">Latest From Favorite Brands <small>{{latest_len }} items found</small></h3>
            <div class="product-container2">
                {% for product in  latest %}
                <div class="product">
                    <a class="product-content" title="Click to see detail" href="{% url 'store:product_detail' product.pk %}">
                        <img class="product-img" src="{{ product.image.url }}" alt="">
                        <div class="product-text-container">
                            <p class="product-name">{{ product.product_name|truncatechars:17 }}</p>
                            <div class="reviews-price">
                                <p class="product-price">${{ product.price }}</p>
                                {% if product.productreview_set.all %}
                                    <a class="read-review" href="{% url 'store:read_review' product.pk %}">
                                        Read review
                                    </a>
                                {% else %}
                                    <p class="no-review">
                                        (0 review)
                                    </p>
                                {% endif %}
                            </div>
                        </div>
                    </a>
                    <div class="rating-button-container">
                        <div class="ratings">
                            {% if product.rating == 1 %}
                                <div class="rating-i-icon">
                                    <i class="fa fa-star"></i>
                                </div>
                                {% if product.productreview_set.count > 1 %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} reviews)</small>
                                    </p>
                                {% else %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} review)</small>
                                    </p>
                                {% endif %}
                            {% elif product.rating == 2 %}
                                <div class="rating-i-icon">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                                {% if product.productreview_set.count > 1 %}
                                    <p class="ratings-count">
                                        ({{ product.productreview_set.count }} reviews)
                                    </p>
                                {% else %}
                                    <p class="ratings-count">
                                        ({{ product.productreview_set.count }} review)
                                    </p>
                                {% endif %}
                            {% elif product.rating == 3 %}
                                <div class="rating-i-icon">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                                {% if product.productreview_set.count > 1 %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} reviews)</small>
                                    </p>
                                {% else %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} review)</small>
                                    </p>
                                {% endif %}
                            {% elif product.rating == 4 %}
                                <div class="rating-i-icon">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                                {% if product.productreview_set.count > 1 %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} reviews)</small>
                                    </p>
                                {% else %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} review)</small>
                                    </p>
                                {% endif %}
                            {% elif product.rating == 5 %}
                                <div class="rating-i-icon">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                                {% if product.productreview_set.count > 1 %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} reviews)</small>
                                    </p>
                                {% else %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} review)</small>
                                    </p>
                                {% endif %}
                            {% elif product.rating == 0 %}
                                <div class="no-rating">
                                    <p>
                                        Not rated
                                    </p>
                                {% if product.productreview_set.count > 1 %}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} reviews)</small>
                                    </p>
                                {% elif product.productreview_set.count == 1%}
                                    <p class="ratings-count">
                                        <small>({{ product.productreview_set.count }} review)</small>
                                    </p>
                                {% endif %}
                                </div>
                            {% endif %}
                        </div>
                        <a class="product-add-to-basket" type="button" href="{% url 'store:add_to_basket' product.pk %}">Add to basket</a>
                    </div>
                </div>
                {% endfor %}
            </div>
            <i class="fa fa-chevron-left prev-btn2"></i>
            <i class="fa fa-chevron-right next-btn2"></i>
        </div>

        {% if user.is_authenticated %}
            {% if just_for_you %}
                <div class="products-container">
                    <h3 class="just_for_you">Just For You <small>{{ just_for_you_len }} items found</small></h3>
                    <div class="product-container3">
                        {% for product in  just_for_you %}
                        <div class="product">
                            <a class="product-content" title="Click to see detail" href="{% url 'store:product_detail' product.pk %}">
                                <img class="product-img" src="{{ product.image.url }}" alt="">
                                <div class="product-text-container">
                                    <p class="product-name">{{ product.product_name|truncatechars:17 }}</p>
                                    <div class="reviews-price">
                                        <p class="product-price">${{ product.price }}</p>
                                        {% if product.productreview_set.all %}
                                            <a class="read-review" href="{% url 'store:read_review' product.pk %}">
                                                Read review
                                            </a>
                                        {% else %}
                                            <p class="no-review">
                                                (0 review)
                                            </p>
                                        {% endif %}
                                    </div>
                                </div>
                            </a>
                            <div class="rating-button-container">
                                <div class="ratings">
                                    {% if product.rating == 1 %}
                                        <div class="rating-i-icon">
                                            <i class="fa fa-star"></i>
                                        </div>
                                        {% if product.productreview_set.count > 1 %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} reviews)</small>
                                            </p>
                                        {% else %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} review)</small>
                                            </p>
                                        {% endif %}
                                    {% elif product.rating == 2 %}
                                        <div class="rating-i-icon">
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        </div>
                                        {% if product.productreview_set.count > 1 %}
                                            <p class="ratings-count">
                                                ({{ product.productreview_set.count }} reviews)
                                            </p>
                                        {% else %}
                                            <p class="ratings-count">
                                                ({{ product.productreview_set.count }} review)
                                            </p>
                                        {% endif %}
                                    {% elif product.rating == 3 %}
                                        <div class="rating-i-icon">
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        </div>
                                        {% if product.productreview_set.count > 1 %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} reviews)</small>
                                            </p>
                                        {% else %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} review)</small>
                                            </p>
                                        {% endif %}
                                    {% elif product.rating == 4 %}
                                        <div class="rating-i-icon">
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        </div>
                                        {% if product.productreview_set.count > 1 %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} reviews)</small>
                                            </p>
                                        {% else %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} review)</small>
                                            </p>
                                        {% endif %}
                                    {% elif product.rating == 5 %}
                                        <div class="rating-i-icon">
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        </div>
                                        {% if product.productreview_set.count > 1 %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} reviews)</small>
                                            </p>
                                        {% else %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} review)</small>
                                            </p>
                                        {% endif %}
                                    {% elif product.rating == 0 %}
                                        <div class="no-rating">
                                            <p>
                                                Not rated
                                            </p>
                                        {% if product.productreview_set.count > 1 %}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} reviews)</small>
                                            </p>
                                        {% elif product.productreview_set.count == 1%}
                                            <p class="ratings-count">
                                                <small>({{ product.productreview_set.count }} review)</small>
                                            </p>
                                        {% endif %}
                                        </div>
                                    {% endif %}
                                </div>
                                <a class="product-add-to-basket" type="button" href="{% url 'store:add_to_basket' product.pk %}">Add to basket</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <i class="fa fa-chevron-left prev-btn3"></i>
                    <i class="fa fa-chevron-right next-btn3"></i>
                </div>
            {% endif %}
        {% endif %} 
        
    </div>
{% endblock content %}
